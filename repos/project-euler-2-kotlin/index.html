<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.4.0 for Hugo"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=B612+Mono&family=B612:wght@400;700&family=Jura:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=B612+Mono&family=B612:wght@400;700&family=Jura:wght@400;700&display=swap" media=print onload='this.media="all"'><meta name=description content="Finds the sum of even-valued Fibonacci numbers < 4MM"><link rel=alternate hreflang=en-us href=https://atomicrepos.dev/repos/project-euler-2-kotlin/><meta name=theme-color content="#EF525B"><link rel=stylesheet href=/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/styles/github.min.css crossorigin=anonymous title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/styles/dracula.min.css crossorigin=anonymous title=hl-dark media=print onload='this.media="all"' disabled><link rel=stylesheet href=/css/wowchemy.6926186783b2c9bdc8a22e3b0232e333.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-96F9VRRZ1N"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}function trackOutboundLink(e,t){gtag("event","click",{event_category:"outbound",event_label:e,transport_type:"beacon",event_callback:function(){t!=="_blank"&&(document.location=e)}}),console.debug("Outbound link clicked: "+e)}function onClickCallback(e){if(e.target.tagName!=="A"||e.target.host===window.location.host)return;trackOutboundLink(e.target,e.target.getAttribute("target"))}gtag("js",new Date),gtag("config","G-96F9VRRZ1N",{}),gtag("set",{cookie_flags:"SameSite=None;Secure"}),document.addEventListener("click",onClickCallback,!1)</script><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hud0664d97edae6bbdbabef1d7c1dd89aa_83464_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hud0664d97edae6bbdbabef1d7c1dd89aa_83464_180x180_fill_lanczos_center_3.png><link rel=canonical href=https://atomicrepos.dev/repos/project-euler-2-kotlin/><meta property="twitter:card" content="summary"><meta property="twitter:site" content="@AtomicRepos"><meta property="twitter:creator" content="@AtomicRepos"><meta property="og:site_name" content="Atomic Repos"><meta property="og:url" content="https://atomicrepos.dev/repos/project-euler-2-kotlin/"><meta property="og:title" content="Project Euler #2 - Even Fibonacci Numbers - Kotlin | Atomic Repos"><meta property="og:description" content="Finds the sum of even-valued Fibonacci numbers < 4MM"><meta property="og:image" content="https://atomicrepos.dev/media/icon_hud0664d97edae6bbdbabef1d7c1dd89aa_83464_512x512_fill_lanczos_center_3.png"><meta property="twitter:image" content="https://atomicrepos.dev/media/icon_hud0664d97edae6bbdbabef1d7c1dd89aa_83464_512x512_fill_lanczos_center_3.png"><meta property="og:locale" content="en-us"><meta property="article:published_time" content="2022-03-16T00:00:00+00:00"><meta property="article:modified_time" content="2022-03-16T00:00:00+00:00"><title>Project Euler #2 - Even Fibonacci Numbers - Kotlin | Atomic Repos</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=6509e3a0a59a110871313a1e11e998c0><script src=/js/wowchemy-init.min.d5094052a6270c81ab9495f4173f87a9.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=Close><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=Search... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search class=form-control aria-label=Search...></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><div class=page-header><header class=header--fixed><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Atomic Repos</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Atomic Repos</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/about><span>About</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=Search><i class="fas fa-search" aria-hidden=true></i></a></li></ul></div></nav></header></div><div class=page-body><article class=article><div class="article-container pt-3"><h1>Project Euler #2 - Even Fibonacci Numbers - Kotlin
<a href=https://github.com/atomic-repos/atomic-repos-project-euler-2-kotlin><i style=float:inline-end class="fab fa-github"></i></a></h1><p class=page-subtitle>Author: <a href=https://github.com/mstine>Matt Stine</a></p><div class=article-metadata><span class=article-date>Mar 16, 2022</span></div></div><div class=article-container><div class=article-style><p>Today we&rsquo;re going to solve <a href=https://projecteuler.net target=_blank rel=noopener>Project Euler</a> Problem 2 in Kotlin.
If you&rsquo;re missing background on Project Euler and why I&rsquo;m working through its problem set, take a look at <a href=/repos/project-euler-1-kotlin/>Project Euler #1</a>.</p><h2 id=heres-our-problem-statement-for-today>Here&rsquo;s our problem statement for today:</h2><blockquote><p>Each new term in the Fibonacci sequence is generated by adding the previous two terms. By starting with 1 and 2, the first 10 terms will be:</p></blockquote><blockquote><p>1, 2, 3, 5, 8, 13, 21, 34, 55, 89, &mldr;</p></blockquote><blockquote><p>By considering the terms in the Fibonacci sequence whose values do not exceed four million, find the sum of the even-valued terms.</p></blockquote><h2 id=to-solve-this-problem-were-going-to-combine-kotlins-sequences-with-kotlins-tuple-types>To solve this problem, we&rsquo;re going to combine Kotlin&rsquo;s Sequences with Kotlin&rsquo;s Tuple Types</h2><p>Because we need two values to seed our sequence generation instead of one, we&rsquo;ll need a way to pass two values as the <code>seed</code> argument to <code>generateSequence</code>.
Now we could easily declare a data class that encapsulates the two values, but for situations like this it seems like overkill.
Fortunately the designers of the Kotlin standard library agreed and added two such types for convenience: <code>Pair</code> and <code>Triple</code>.
These types encapsulate two and three values (of any type!), respectively.</p><p>Now we can pass the argument <code>Pair(0,1)</code> to <code>generateSequence</code>!</p><p>Our function to generate the next value looks a little tricky, so let&rsquo;s break it down. We&rsquo;re returning <code>Pair(it.second, it.first + it.second)</code>.
Why does this work?
Well, we know that the first two values in the Fibonacci sequence are 0 and 1.
This means that the second <code>Pair</code> in our sequence is <code>Pair(1,1)</code>. Continuing we find:</p><ol start=3><li><code>Pair(1,2)</code></li><li><code>Pair(2,3)</code></li><li><code>Pair(3,5)</code></li><li>&mldr;</li></ol><p>Comparing this sequence of pairs to the Fibonacci sequence described above, we can see that we are accumulating the entire sequence in the first
value of each <code>Pair</code>!</p><p>The reset of the computation falls out nicely:</p><ul><li>We <code>map</code> each <code>Pair</code> to its first value.</li><li>Next, we <code>takeWhile</code> the value is less than our <code>upperBound</code>.</li><li>Then, we <code>filter</code> to only even numbers using <code>it % 2 == 0</code>. (For the uninitiated, <code>%</code> is the <a href=https://en.wikipedia.org/wiki/Modulo_operation target=_blank rel=noopener>modulus</a> operator!)</li><li>And finally, we take the <code>sum</code>.</li></ul><p>Running our program tells us the answer: <code>4613732</code>.</p><p>To learn more about Kotlin Tuples, take a look at <a href=https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-pair/ target=_blank rel=noopener>Pair</a> and <a href=https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-triple/ target=_blank rel=noopener>Triple</a> in the Kotlin documentation.</p><hr><h2 id=code>Code</h2><pre><code class=language-kotlin>package dev.atomicrepos.kotlin.projecteuler

fun evenFibonacciSum(upperBound: Int) =
    generateSequence(Pair(0, 1)) {
        Pair(it.second, it.first + it.second)
    }
        .map { it.first }
        .takeWhile { it &lt; upperBound }
        .filter { it % 2 == 0 }
        .sum()

</code></pre><h2 id=tests>Tests</h2><pre><code class=language-kotlin>package dev.atomicrepos.kotlin.projecteuler

import org.assertj.core.api.Assertions.assertThat
import org.junit.Test

class ProjectEulerTwoTest {

    @Test
    fun shouldCalculateEvenFibonacciSum() {
       assertThat(evenFibonacciSum(4_000_000)).isEqualTo(4_613_732)
    }

}

</code></pre></div><div class=article-tags><a class="badge badge-light" href=/tag/project-euler/>project-euler</a>
<a class="badge badge-light" href=/tag/kotlin/>kotlin</a></div><div class=share-box><ul class=share><li><a href="https://twitter.com/intent/tweet?url=https://atomicrepos.dev/repos/project-euler-2-kotlin/&text=Project%20Euler%20#2%20-%20Even%20Fibonacci%20Numbers%20-%20Kotlin" target=_blank rel=noopener class=share-btn-twitter aria-label=twitter><i class="fab fa-twitter"></i></a></li><li><a href="https://www.facebook.com/sharer.php?u=https://atomicrepos.dev/repos/project-euler-2-kotlin/&t=Project%20Euler%20#2%20-%20Even%20Fibonacci%20Numbers%20-%20Kotlin" target=_blank rel=noopener class=share-btn-facebook aria-label=facebook><i class="fab fa-facebook"></i></a></li><li><a href="mailto:?subject=Project%20Euler%20#2%20-%20Even%20Fibonacci%20Numbers%20-%20Kotlin&body=https://atomicrepos.dev/repos/project-euler-2-kotlin/" target=_blank rel=noopener class=share-btn-email aria-label=envelope><i class="fas fa-envelope"></i></a></li><li><a href="https://www.linkedin.com/shareArticle?url=https://atomicrepos.dev/repos/project-euler-2-kotlin/&title=Project%20Euler%20#2%20-%20Even%20Fibonacci%20Numbers%20-%20Kotlin" target=_blank rel=noopener class=share-btn-linkedin aria-label=linkedin-in><i class="fab fa-linkedin-in"></i></a></li><li><a href="whatsapp://send?text=Project%20Euler%20#2%20-%20Even%20Fibonacci%20Numbers%20-%20Kotlin%20https://atomicrepos.dev/repos/project-euler-2-kotlin/" target=_blank rel=noopener class=share-btn-whatsapp aria-label=whatsapp><i class="fab fa-whatsapp"></i></a></li><li><a href="https://service.weibo.com/share/share.php?url=https://atomicrepos.dev/repos/project-euler-2-kotlin/&title=Project%20Euler%20#2%20-%20Even%20Fibonacci%20Numbers%20-%20Kotlin" target=_blank rel=noopener class=share-btn-weibo aria-label=weibo><i class="fab fa-weibo"></i></a></li></ul></div></div></article></div><div class=page-footer><div class=container><footer class=site-footer><p class="powered-by copyright-license-text">© 2022 Matt Stine. This site is licensed under <a href=https://creativecommons.org/licenses/by-nc-nd/4.0 rel="noopener noreferrer" target=_blank>CC BY NC ND 4.0</a>. Repos may assign their own individual licenses.</p><p class="powered-by footer-license-icons"><a href=https://creativecommons.org/licenses/by-nc-nd/4.0 rel="noopener noreferrer" target=_blank aria-label="Creative Commons"><i class="fab fa-creative-commons fa-2x" aria-hidden=true></i>
<i class="fab fa-creative-commons-by fa-2x" aria-hidden=true></i>
<i class="fab fa-creative-commons-nc fa-2x" aria-hidden=true></i>
<i class="fab fa-creative-commons-nd fa-2x" aria-hidden=true></i></a></p><p class=powered-by>Published with <a href="https://wowchemy.com/?utm_campaign=poweredby" target=_blank rel=noopener>Wowchemy</a> — the free, <a href=https://github.com/wowchemy/wowchemy-hugo-themes target=_blank rel=noopener>open source</a> website builder that empowers creators.</p></footer></div></div><script src=/js/vendor-bundle.min.3d946de2e8784a477845261d87025092.js></script>
<script src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/highlight.min.js integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/languages/r.min.js crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/languages/latex.min.js crossorigin=anonymous></script>
<script id=search-hit-fuse-template type=text/x-template>
        <div class="search-hit" id="summary-{{key}}">
          <div class="search-hit-content">
            <div class="search-hit-name">
              <a href="{{relpermalink}}">{{title}}</a>
              <div class="article-metadata search-hit-type">{{type}}</div>
              <p class="search-hit-description">{{snippet}}</p>
            </div>
          </div>
        </div>
      </script><script src=https://cdn.jsdelivr.net/gh/krisk/Fuse@v3.2.1/dist/fuse.min.js integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/gh/julmot/mark.js@8.11.1/dist/jquery.mark.min.js integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin=anonymous></script>
<script id=page-data type=application/json>{"use_headroom":true}</script><script src=/js/wowchemy-headroom.e8fd2d733eef6a8bbbe0539398fc0547.js type=module></script>
<script src=/en/js/wowchemy.min.a2ed145159dd33ad55ff402163350b5d.js></script></body></html>